# Приложение для управления прайс-листами

## Обзор
Приложение позволяет создавать товары, формировать прайс-листы и делиться ими с клиентами через публичную ссылку. Клиенты могут просматривать прайс-листы и оформлять заказы.

## Технологии
- Frontend: HTML, CSS, JavaScript, Vue.js (CDN)
- Backend: Supabase (БД и аутентификация)
- Хостинг: Netlify

## Настройка проекта для деплоя

### 1. Настройка Supabase

1. Создайте новый проект в [Supabase](https://supabase.com/)
2. В разделе SQL Editor выполните SQL код из файла `schema.sql` для создания таблиц и настройки правил RLS
3. Скопируйте URL проекта и публичный API ключ (anon key) из раздела Project Settings > API

### 2. Настройка конфигурации

1. Отредактируйте файл `config.js`, указав URL и ключ Supabase:
```javascript
const SUPABASE_CONFIG = {
    SUPABASE_URL: 'https://your-project-id.supabase.co',
    SUPABASE_KEY: 'your-anon-key'
};
```

### 3. Деплой на Netlify

#### Вариант 1: Деплой через Git

1. Загрузите проект в Git-репозиторий (GitHub, GitLab, Bitbucket)
2. Войдите в [Netlify](https://www.netlify.com/)
3. Нажмите "New site from Git" и выберите свой репозиторий
4. Оставьте поле Build command пустым и укажите Publish directory: `/`
5. Нажмите "Deploy site"

#### Вариант 2: Ручной деплой

1. Запакуйте все файлы проекта в zip-архив
2. Войдите в [Netlify](https://www.netlify.com/)
3. Перейдите в раздел "Sites" и перетащите zip-архив в зону загрузки
4. Дождитесь завершения деплоя

### 4. Настройка поведения SPA на Netlify

Файл `netlify.toml` уже содержит необходимые настройки для перенаправления, которые позволят приложению работать как SPA.

## Локальная разработка

Для локального запуска приложения вы можете использовать:

```bash
# С помощью Python
python -m http.server

# С помощью Node.js
npx http-server
```

## Структура проекта

```
/prices
├── index.html                // главная страница приложения
├── share.html                // страница публичного просмотра прайс-листов
├── netlify.toml              // конфигурация для деплоя на Netlify
├── _redirects                // настройки перенаправления для Netlify
├── README.md                 // документация проекта
├── schema.sql                // SQL-скрипт для создания таблиц в Supabase
│
├── /config                   // модули конфигурации
│   ├── supabase-config.js    // настройки подключения к Supabase
│   ├── db-schema.js          // схема базы данных
│   └── app-constants.js      // общие константы приложения
│
├── /api                      // API модули
│   └── supabase-api.js       // функции для работы с Supabase API
│
├── /js                       // скрипты JavaScript
│   ├── app.js                // основная логика приложения
│   └── share.js              // логика страницы публичного просмотра
│
├── /css                      // стили CSS
│   ├── styles.css            // основные стили
│   └── share-styles.css      // стили для страницы share.html
│
├── /components               // компоненты Vue (если используются)
│
└── /utils                    // утилиты и вспомогательные функции
```

## Модульная структура

Приложение использует модульный подход с разделением кода на следующие слои:

1. **Конфигурация** - настройки соединения с базой данных, константы, схемы
2. **API** - обертки для работы с внешними сервисами (Supabase)
3. **Бизнес-логика** - функции и компоненты для работы с данными
4. **Представление** - HTML и CSS для отображения интерфейса

### Преимущества модульной структуры

- **Разделение ответственности** - каждый модуль отвечает за определенную функцию
- **Упрощение поддержки** - можно менять отдельные модули, не затрагивая остальной код
- **Переиспользование кода** - общие функции можно использовать в разных частях приложения
- **Улучшение читаемости** - четкая структура упрощает понимание кода

## Настройка проекта

1. Отредактируйте файл `config/supabase-config.js`, указав свои данные подключения к Supabase
2. Убедитесь, что схема базы данных в `config/db-schema.js` соответствует вашей структуре таблиц
3. При необходимости обновите константы в `config/app-constants.js`

## Локальный запуск

```bash
# Используя Python
python -m http.server

# Используя Node.js
npx http-server
```

## Деплой на Netlify

1. Загрузите код в Git-репозиторий
2. В Netlify выберите "New site from Git" и укажите свой репозиторий
3. Укажите директорию публикации: `/`
4. Нажмите "Deploy site" 